# ğŸ› é™¤éŒ¯è§£æ±ºæ–¹æ¡ˆï¼šé‡åˆ°å•é¡Œæ€éº¼è¾¦

## ğŸ¯ é™¤éŒ¯æ€ç¶­ï¼šå†·éœã€ç³»çµ±ã€æœ‰é‚è¼¯

### ğŸ§  é™¤éŒ¯çš„åŸºæœ¬æ­¥é©Ÿ
1. **é‡ç¾å•é¡Œ**ï¼šèƒ½ç©©å®šé‡ç¾æ‰èƒ½æœ‰æ•ˆè§£æ±º
2. **ç¸®å°ç¯„åœ**ï¼šæ‰¾å‡ºå•é¡Œå‡ºç¾åœ¨å“ªå€‹éƒ¨åˆ†
3. **å½¢æˆå‡è¨­**ï¼šçŒœæ¸¬å¯èƒ½çš„åŸå› 
4. **é©—è­‰å‡è¨­**ï¼šç”¨å¯¦é©—è­‰æ˜æˆ–å¦å®šçŒœæ¸¬
5. **ä¿®å¾©å•é¡Œ**ï¼šå¯¦æ–½è§£æ±ºæ–¹æ¡ˆ
6. **é©—è­‰ä¿®å¾©**ï¼šç¢ºèªå•é¡ŒçœŸçš„è§£æ±ºäº†

## ğŸ” å¸¸è¦‹å•é¡Œè¨ºæ–·æ‰‹å†Š

### ğŸŒ Chromeæ’ä»¶ç›¸é—œå•é¡Œ

#### å•é¡Œ1ï¼šæ’ä»¶ç„¡æ³•è¼‰å…¥
**ç—‡ç‹€**ï¼šæ’ä»¶åœ–ç¤ºä¸å‡ºç¾æˆ–é»æ“Šç„¡åæ‡‰

**è¨ºæ–·æ­¥é©Ÿ**ï¼š
```bash
# 1. æª¢æŸ¥manifest.jsonèªæ³•
# åœ¨Chromeä¸­ï¼šé–‹ç™¼è€…å·¥å…· -> æª¢æŸ¥æ’ä»¶éŒ¯èª¤

# 2. å¸¸è¦‹éŒ¯èª¤
- manifest.jsonæ ¼å¼éŒ¯èª¤ï¼ˆJSONèªæ³•éŒ¯èª¤ï¼‰
- æª”æ¡ˆè·¯å¾‘éŒ¯èª¤ï¼ˆæ‰¾ä¸åˆ°æŒ‡å®šçš„æª”æ¡ˆï¼‰
- æ¬Šé™è¨­å®šä¸æ­£ç¢º
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```json
// ç¢ºä¿manifest.jsonæ ¼å¼æ­£ç¢º
{
  \"manifest_version\": 3,
  \"name\": \"æ–°èæ‘˜è¦åŠ©æ‰‹\",
  \"version\": \"1.0.0\",
  \"permissions\": [
    \"activeTab\",
    \"storage\"
  ],
  \"action\": {
    \"default_popup\": \"popup/popup.html\"
  }
}
```

**é©—è­‰å·¥å…·**ï¼š
```javascript
// åœ¨popup.jsä¸­åŠ å…¥é™¤éŒ¯ä»£ç¢¼
console.log('æ’ä»¶åˆå§‹åŒ–é–‹å§‹');

document.addEventListener('DOMContentLoaded', () => {
    console.log('DOMè¼‰å…¥å®Œæˆ');
    console.log('æ‰¾åˆ°çš„å…ƒç´ :', document.getElementById('create-task'));
});
```

#### å•é¡Œ2ï¼šCORSè·¨åŸŸéŒ¯èª¤
**ç—‡ç‹€**ï¼š`Access to fetch blocked by CORS policy`

**åŸå› åˆ†æ**ï¼š
- å‰ç«¯å’Œå¾Œç«¯åœ¨ä¸åŒåŸŸå/ç«¯å£
- å¾Œç«¯æ²’æœ‰æ­£ç¢ºè¨­ç½®CORSæ¨™é ­

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```javascript
// å¾Œç«¯è¨­ç½® (Express.js)
const cors = require('cors');

app.use(cors({
    origin: [
        'chrome-extension://*',  // å…è¨±Chromeæ’ä»¶
        'http://localhost:*',    // å…è¨±æœ¬åœ°é–‹ç™¼
        'https://yourdomain.com' // å…è¨±æ­£å¼åŸŸå
    ],
    credentials: true
}));
```

#### å•é¡Œ3ï¼šå„²å­˜æ•¸æ“šå¤±æ•ˆ
**ç—‡ç‹€**ï¼šç”¨æˆ¶åå¥½è¨­å®šæ²’æœ‰ä¿å­˜

**æª¢æŸ¥æ–¹æ³•**ï¼š
```javascript
// æª¢æŸ¥Chrome storage
chrome.storage.sync.get(null, (data) => {
    console.log('å„²å­˜çš„æ•¸æ“šï¼š', data);
});

// æª¢æŸ¥å­˜å„²å®¹é‡é™åˆ¶
chrome.storage.sync.getBytesInUse((bytes) => {
    console.log('å·²ä½¿ç”¨ç©ºé–“ï¼š', bytes, 'å­—ç¯€');
    console.log('å‰©é¤˜ç©ºé–“ï¼š', (chrome.storage.sync.QUOTA_BYTES - bytes), 'å­—ç¯€');
});
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```javascript
// æ­£ç¢ºçš„å­˜å„²æ–¹å¼
async function saveUserPreferences(preferences) {
    try {
        // æª¢æŸ¥æ•¸æ“šå¤§å°
        const dataString = JSON.stringify(preferences);
        if (dataString.length > 8192) { // Chrome storageé™åˆ¶
            throw new Error('æ•¸æ“šéå¤§ï¼Œç„¡æ³•å„²å­˜');
        }

        await chrome.storage.sync.set({
            userPreferences: preferences,
            lastUpdated: new Date().toISOString()
        });

        console.log('åå¥½è¨­å®šå·²ä¿å­˜');
    } catch (error) {
        console.error('ä¿å­˜å¤±æ•—ï¼š', error);
        // é™ç´šåˆ°localStorage
        localStorage.setItem('userPreferences', JSON.stringify(preferences));
    }
}
```

### ğŸ–¥ï¸ å¾Œç«¯APIç›¸é—œå•é¡Œ

#### å•é¡Œ1ï¼šAPIè«‹æ±‚è¶…æ™‚
**ç—‡ç‹€**ï¼š`Request timeout` æˆ–é•·æ™‚é–“ç„¡éŸ¿æ‡‰

**è¨ºæ–·æ­¥é©Ÿ**ï¼š
```javascript
// 1. æª¢æŸ¥ç¶²è·¯é€£æ¥
async function testNetworkConnection() {
    try {
        const startTime = Date.now();
        const response = await fetch('/api/health', {
            timeout: 5000
        });
        const endTime = Date.now();

        console.log('ç¶²è·¯å»¶é²ï¼š', endTime - startTime, 'ms');
        console.log('ä¼ºæœå™¨ç‹€æ…‹ï¼š', response.status);
    } catch (error) {
        console.error('ç¶²è·¯æ¸¬è©¦å¤±æ•—ï¼š', error);
    }
}

// 2. æª¢æŸ¥å¾Œç«¯æœå‹™ç‹€æ…‹
async function checkBackendHealth() {
    try {
        const response = await fetch('/api/health');
        const health = await response.json();
        console.log('å¾Œç«¯å¥åº·ç‹€æ…‹ï¼š', health);
    } catch (error) {
        console.error('å¾Œç«¯æœå‹™ä¸å¯ç”¨ï¼š', error);
    }
}
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```javascript
// å¯¦ä½œè¶…æ™‚å’Œé‡è©¦æ©Ÿåˆ¶
class ApiClient {
    constructor(baseUrl, options = {}) {
        this.baseUrl = baseUrl;
        this.timeout = options.timeout || 30000;
        this.maxRetries = options.maxRetries || 3;
    }

    async request(endpoint, options = {}) {
        let lastError;

        for (let attempt = 1; attempt <= this.maxRetries; attempt++) {
            try {
                console.log(`APIè«‹æ±‚å˜—è©¦ ${attempt}/${this.maxRetries}: ${endpoint}`);

                const controller = new AbortController();
                const timeoutId = setTimeout(() => {
                    controller.abort();
                }, this.timeout);

                const response = await fetch(this.baseUrl + endpoint, {
                    ...options,
                    signal: controller.signal
                });

                clearTimeout(timeoutId);

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                return await response.json();

            } catch (error) {
                lastError = error;

                if (attempt < this.maxRetries) {
                    const delay = Math.pow(2, attempt) * 1000; // æŒ‡æ•¸é€€é¿
                    console.log(`è«‹æ±‚å¤±æ•—ï¼Œ${delay/1000}ç§’å¾Œé‡è©¦...`);
                    await this.sleep(delay);
                }
            }
        }

        throw new Error(`APIè«‹æ±‚æœ€çµ‚å¤±æ•—: ${lastError.message}`);
    }

    sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
}
```

#### å•é¡Œ2ï¼šè¨˜æ†¶é«”æ´©æ¼
**ç—‡ç‹€**ï¼šä¼ºæœå™¨é‹è¡Œä¸€æ®µæ™‚é–“å¾Œè®Šæ…¢æˆ–ç•¶æ©Ÿ

**è¨ºæ–·å·¥å…·**ï¼š
```javascript
// ç›£æ§è¨˜æ†¶é«”ä½¿ç”¨
function logMemoryUsage() {
    const usage = process.memoryUsage();
    console.log('è¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³ï¼š', {
        rss: Math.round(usage.rss / 1024 / 1024) + ' MB',      // ç¸½è¨˜æ†¶é«”
        heapTotal: Math.round(usage.heapTotal / 1024 / 1024) + ' MB', // å †è¨˜æ†¶é«”ç¸½é‡
        heapUsed: Math.round(usage.heapUsed / 1024 / 1024) + ' MB',   // å·²ä½¿ç”¨å †è¨˜æ†¶é«”
        external: Math.round(usage.external / 1024 / 1024) + ' MB'    // å¤–éƒ¨è¨˜æ†¶é«”
    });
}

// å®šæœŸç›£æ§
setInterval(logMemoryUsage, 30000); // æ¯30ç§’è¨˜éŒ„ä¸€æ¬¡

// ç›£æ§äº‹ä»¶ç›£è½å™¨
function checkEventListeners() {
    console.log('æ´»èºçš„äº‹ä»¶ç›£è½å™¨æ•¸é‡ï¼š', process.listenerCount('uncaughtException'));
}
```

**å¸¸è¦‹æ´©æ¼åŸå› å’Œè§£æ±º**ï¼š
```javascript
// âŒ å¸¸è¦‹çš„è¨˜æ†¶é«”æ´©æ¼

// 1. æœªæ¸…ç†çš„å®šæ™‚å™¨
const timer = setInterval(() => {
    // æŸäº›é‚è¼¯
}, 1000);
// å¿˜è¨˜ clearInterval(timer);

// 2. æœªé—œé–‰çš„æª”æ¡ˆè®€å–
const fs = require('fs');
const stream = fs.createReadStream('large-file.txt');
// å¿˜è¨˜ stream.close();

// 3. æœªç§»é™¤çš„äº‹ä»¶ç›£è½å™¨
const EventEmitter = require('events');
const emitter = new EventEmitter();
emitter.on('data', handleData);
// å¿˜è¨˜ emitter.removeListener('data', handleData);

// âœ… æ­£ç¢ºçš„è³‡æºç®¡ç†
class TaskProcessor {
    constructor() {
        this.timers = new Set();
        this.listeners = new Map();
    }

    scheduleTask(taskId, delay) {
        const timer = setTimeout(() => {
            this.processTask(taskId);
            this.timers.delete(timer);
        }, delay);

        this.timers.add(timer);
    }

    addListener(emitter, event, handler) {
        emitter.on(event, handler);

        if (!this.listeners.has(emitter)) {
            this.listeners.set(emitter, []);
        }
        this.listeners.get(emitter).push({ event, handler });
    }

    cleanup() {
        // æ¸…ç†æ‰€æœ‰å®šæ™‚å™¨
        this.timers.forEach(timer => clearTimeout(timer));
        this.timers.clear();

        // ç§»é™¤æ‰€æœ‰äº‹ä»¶ç›£è½å™¨
        this.listeners.forEach((listeners, emitter) => {
            listeners.forEach(({ event, handler }) => {
                emitter.removeListener(event, handler);
            });
        });
        this.listeners.clear();
    }
}
```

### ğŸ¤– AIæœå‹™ç›¸é—œå•é¡Œ

#### å•é¡Œ1ï¼šAIå›æ‡‰å“è³ªä¸ä½³
**ç—‡ç‹€**ï¼šæ‘˜è¦å…§å®¹ä¸æº–ç¢ºæˆ–æ ¼å¼æ··äº‚

**è¨ºæ–·æ–¹æ³•**ï¼š
```javascript
// æª¢æŸ¥è¼¸å…¥æ•¸æ“šå“è³ª
function analyzeInputData(articles) {
    const analysis = {
        totalArticles: articles.length,
        averageLength: 0,
        emptyArticles: 0,
        shortArticles: 0,
        languages: new Set()
    };

    let totalLength = 0;

    articles.forEach(article => {
        const content = article.content || '';
        totalLength += content.length;

        if (!content.trim()) {
            analysis.emptyArticles++;
        } else if (content.length < 100) {
            analysis.shortArticles++;
        }

        // ç°¡å–®çš„èªè¨€æª¢æ¸¬
        if (/[\\u4e00-\\u9fa5]/.test(content)) {
            analysis.languages.add('ä¸­æ–‡');
        }
        if (/[a-zA-Z]/.test(content)) {
            analysis.languages.add('è‹±æ–‡');
        }
    });

    analysis.averageLength = Math.round(totalLength / articles.length);

    console.log('è¼¸å…¥æ•¸æ“šåˆ†æï¼š', analysis);
    return analysis;
}

// å„ªåŒ–AIæç¤ºè©
function buildOptimizedPrompt(articles, userPrompt, analysis) {
    let systemPrompt = `ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„æ–°èåˆ†æå¸«ï¼Œè«‹æ ¹æ“šä»¥ä¸‹æ–‡ç« ç”Ÿæˆæ‘˜è¦ã€‚

è¦æ±‚ï¼š
1. æ‘˜è¦é•·åº¦æ§åˆ¶åœ¨200-300å­—
2. é‡é»çªå‡ºä¸»è¦äº‹ä»¶å’Œå½±éŸ¿
3. ä¿æŒå®¢è§€å’Œæº–ç¢º
4. ä½¿ç”¨ç¹é«”ä¸­æ–‡å›æ‡‰

æ–‡ç« æ•¸é‡ï¼š${analysis.totalArticles}
å¹³å‡é•·åº¦ï¼š${analysis.averageLength}å­—
`;

    if (analysis.shortArticles > 0) {
        systemPrompt += `\\næ³¨æ„ï¼šæœ‰${analysis.shortArticles}ç¯‡æ–‡ç« å…§å®¹è¼ƒçŸ­ï¼Œè«‹é‡é»é—œæ³¨å…§å®¹è¼ƒè±å¯Œçš„æ–‡ç« ã€‚`;
    }

    if (userPrompt) {
        systemPrompt += `\\n\\nç”¨æˆ¶ç‰¹æ®Šè¦æ±‚ï¼š${userPrompt}`;
    }

    return systemPrompt;
}
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```javascript
async function generateQualitySummary(articles, userPrompt) {
    try {
        // 1. é è™•ç†æ–‡ç« 
        const cleanedArticles = preprocessArticles(articles);

        // 2. åˆ†æè¼¸å…¥å“è³ª
        const analysis = analyzeInputData(cleanedArticles);

        // 3. å»ºæ§‹å„ªåŒ–çš„æç¤ºè©
        const optimizedPrompt = buildOptimizedPrompt(cleanedArticles, userPrompt, analysis);

        // 4. å‘¼å«AIæœå‹™
        const response = await callAIService(optimizedPrompt, cleanedArticles);

        // 5. å¾Œè™•ç†çµæœ
        const summary = postprocessSummary(response);

        return summary;
    } catch (error) {
        console.error('AIæ‘˜è¦ç”Ÿæˆå¤±æ•—ï¼š', error);
        throw error;
    }
}

function preprocessArticles(articles) {
    return articles
        .filter(article => article.content && article.content.trim().length > 50)
        .map(article => ({
            ...article,
            content: cleanContent(article.content)
        }));
}

function cleanContent(content) {
    return content
        .replace(/\\s+/g, ' ')           // çµ±ä¸€ç©ºæ ¼
        .replace(/[^\\u4e00-\\u9fa5a-zA-Z0-9\\s,.!?;:\\-()]/g, '') // ç§»é™¤ç‰¹æ®Šå­—ç¬¦
        .trim();
}

function postprocessSummary(rawSummary) {
    return rawSummary
        .replace(/^(æ‘˜è¦|ç¸½çµ)[:ï¼š]?/i, '')  // ç§»é™¤é–‹é ­çš„ã€Œæ‘˜è¦ï¼šã€
        .replace(/\\n+/g, '\\n')             // çµ±ä¸€æ›è¡Œ
        .trim();
}
```

## ğŸ› ï¸ é™¤éŒ¯å·¥å…·ç®±

### ğŸ”§ ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·
```javascript
// 1. Consoleèª¿è©¦æŠ€å·§
console.group('ä»»å‹™è™•ç†æµç¨‹');
console.log('1. é©—è­‰è¼¸å…¥');
console.table(inputData);
console.log('2. ç™¼é€APIè«‹æ±‚');
console.time('APIè«‹æ±‚æ™‚é–“');

fetch('/api/tasks', { method: 'POST', body: JSON.stringify(inputData) })
    .then(response => {
        console.timeEnd('APIè«‹æ±‚æ™‚é–“');
        console.log('å›æ‡‰ç‹€æ…‹ï¼š', response.status);
        return response.json();
    })
    .catch(error => {
        console.error('è«‹æ±‚å¤±æ•—ï¼š', error);
    });

console.groupEnd();

// 2. ç¶²è·¯ç›£æ§
function monitorNetworkRequests() {
    const originalFetch = window.fetch;

    window.fetch = function(...args) {
        const startTime = Date.now();
        const url = args[0];

        console.log(`ğŸŒ ç™¼èµ·è«‹æ±‚: ${url}`);

        return originalFetch.apply(this, args)
            .then(response => {
                const duration = Date.now() - startTime;
                console.log(`âœ… è«‹æ±‚å®Œæˆ: ${url} (${duration}ms, ${response.status})`);
                return response;
            })
            .catch(error => {
                const duration = Date.now() - startTime;
                console.error(`âŒ è«‹æ±‚å¤±æ•—: ${url} (${duration}ms)`, error);
                throw error;
            });
    };
}

// å•Ÿç”¨ç›£æ§
monitorNetworkRequests();
```

### ğŸ“Š æ€§èƒ½ç›£æ§å·¥å…·
```javascript
class PerformanceMonitor {
    constructor() {
        this.metrics = {
            apiCalls: [],
            memoryUsage: [],
            userActions: []
        };
    }

    measureApiCall(url, operation) {
        const startTime = performance.now();
        const startMemory = performance.memory ? performance.memory.usedJSHeapSize : 0;

        return operation().then(result => {
            const endTime = performance.now();
            const endMemory = performance.memory ? performance.memory.usedJSHeapSize : 0;

            this.metrics.apiCalls.push({
                url,
                duration: endTime - startTime,
                memoryDelta: endMemory - startMemory,
                timestamp: Date.now(),
                success: true
            });

            return result;
        }).catch(error => {
            const endTime = performance.now();

            this.metrics.apiCalls.push({
                url,
                duration: endTime - startTime,
                error: error.message,
                timestamp: Date.now(),
                success: false
            });

            throw error;
        });
    }

    getPerformanceReport() {
        const report = {
            apiCalls: {
                total: this.metrics.apiCalls.length,
                successRate: this.metrics.apiCalls.filter(call => call.success).length / this.metrics.apiCalls.length,
                averageDuration: this.metrics.apiCalls.reduce((sum, call) => sum + call.duration, 0) / this.metrics.apiCalls.length,
                slowestCall: this.metrics.apiCalls.reduce((slowest, call) =>
                    call.duration > (slowest?.duration || 0) ? call : slowest, null)
            }
        };

        console.table(report);
        return report;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
const monitor = new PerformanceMonitor();

const apiCall = () => fetch('/api/tasks').then(r => r.json());
monitor.measureApiCall('/api/tasks', apiCall)
    .then(result => console.log('APIçµæœï¼š', result));
```

### ğŸš¨ éŒ¯èª¤è¿½è¹¤ç³»çµ±
```javascript
class ErrorTracker {
    constructor() {
        this.errors = [];
        this.setupGlobalHandlers();
    }

    setupGlobalHandlers() {
        // æ•ç²æœªè™•ç†çš„Promise rejection
        window.addEventListener('unhandledrejection', (event) => {
            this.trackError({
                type: 'UnhandledPromiseRejection',
                message: event.reason?.message || 'Unknown promise rejection',
                stack: event.reason?.stack,
                timestamp: Date.now()
            });
        });

        // æ•ç²JavaScriptéŒ¯èª¤
        window.addEventListener('error', (event) => {
            this.trackError({
                type: 'JavaScriptError',
                message: event.message,
                filename: event.filename,
                line: event.lineno,
                column: event.colno,
                stack: event.error?.stack,
                timestamp: Date.now()
            });
        });
    }

    trackError(errorInfo) {
        // æ·»åŠ ç”¨æˆ¶ä¸Šä¸‹æ–‡
        const enrichedError = {
            ...errorInfo,
            userAgent: navigator.userAgent,
            url: window.location.href,
            userId: this.getCurrentUserId(),
            sessionId: this.getSessionId()
        };

        this.errors.push(enrichedError);

        // ç«‹å³è¨˜éŒ„åš´é‡éŒ¯èª¤
        if (this.isCriticalError(errorInfo)) {
            console.error('ğŸš¨ åš´é‡éŒ¯èª¤ï¼š', enrichedError);
            this.reportToServer(enrichedError);
        }

        // é™åˆ¶éŒ¯èª¤æ•¸é‡ï¼Œé¿å…è¨˜æ†¶é«”æ´©æ¼
        if (this.errors.length > 100) {
            this.errors = this.errors.slice(-50);
        }
    }

    isCriticalError(error) {
        const criticalPatterns = [
            /database/i,
            /authentication/i,
            /network/i,
            /timeout/i
        ];

        return criticalPatterns.some(pattern =>
            pattern.test(error.message) || pattern.test(error.type)
        );
    }

    async reportToServer(error) {
        try {
            await fetch('/api/errors', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(error)
            });
        } catch (reportError) {
            console.warn('éŒ¯èª¤å›å ±å¤±æ•—ï¼š', reportError);
        }
    }

    getErrorSummary() {
        const summary = {
            totalErrors: this.errors.length,
            errorTypes: {},
            recentErrors: this.errors.slice(-10)
        };

        this.errors.forEach(error => {
            summary.errorTypes[error.type] = (summary.errorTypes[error.type] || 0) + 1;
        });

        return summary;
    }

    getCurrentUserId() {
        // å¯¦ä½œç²å–ç”¨æˆ¶IDçš„é‚è¼¯
        return localStorage.getItem('userId') || 'anonymous';
    }

    getSessionId() {
        // å¯¦ä½œç²å–æœƒè©±IDçš„é‚è¼¯
        return sessionStorage.getItem('sessionId') || 'unknown';
    }
}

// å•Ÿç”¨å…¨åŸŸéŒ¯èª¤è¿½è¹¤
const errorTracker = new ErrorTracker();

// æ‰‹å‹•è¿½è¹¤éŒ¯èª¤
function trackCustomError(operation, context = {}) {
    try {
        return operation();
    } catch (error) {
        errorTracker.trackError({
            type: 'CustomError',
            message: error.message,
            stack: error.stack,
            context,
            timestamp: Date.now()
        });
        throw error;
    }
}
```

---
*è¨˜ä½ï¼šé™¤éŒ¯å°±åƒåµæ¢å·¥ä½œï¼Œè¦æœ‰è€å¿ƒã€ç´°å¿ƒï¼Œä¸€æ­¥æ­¥æ‰¾åˆ°çœŸç›¸ï¼*