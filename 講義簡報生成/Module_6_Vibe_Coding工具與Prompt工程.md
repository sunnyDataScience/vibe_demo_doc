# Module 6：Vibe Coding 工具與 Prompt 工程
## 時間：16:00-17:00（60分鐘）

📁 **資料集：Online Retail（繼續使用）- 用AI處理大數據**

---

## AI + 大數據的威力展示
```
【即將體驗】
輸入：「幫我分析這54萬筆數據的RFM」
輸出：完整的分析程式碼 + 視覺化 + 洞察報告

從恐懼到驚嘆的轉變！
```

---

## 時間配置
- **16:00-16:20**：主流 AI Coding 工具介紹（20分鐘）
- **16:20-16:40**：Prompt 思維轉換（20分鐘）
- **16:40-17:00**：實戰 Prompt 模板庫（20分鐘）

---

## Part 1：主流 AI Coding 工具介紹（20分鐘）

### AI 工具生態系總覽

#### 1. 對話型 AI 助手
| 工具 | 特色 | 適合場景 | 優缺點 |
|:-----|:-----|:---------|:-------|
| **ChatGPT** | 全能型 | 各種程式問題 | ✅免費版夠用 ❌有時過時 |
| **Claude** | 深度分析 | 複雜邏輯、長文本 | ✅思考深入 ❌需付費 |
| **Gemini** | Google整合 | 搜尋相關、最新資訊 | ✅即時資訊 ❌程式能力較弱 |

#### 2. IDE 整合型工具
```
【GitHub Copilot】
- 是什麼：程式碼自動完成AI
- 優勢：
  * 寫註解就能生成程式碼
  * 支援所有主流語言
  * 整合VS Code/PyCharm
- 使用場景：日常開發、減少打字

【Cursor】
- 是什麼：AI原生編輯器
- 優勢：
  * 對話式程式設計
  * 可以理解整個專案
  * 自動重構程式碼
- 使用場景：完整專案開發

【Replit AI】
- 是什麼：線上協作IDE
- 優勢：
  * 零設定、雲端執行
  * 團隊即時協作
  * 內建AI助手
- 使用場景：教學、原型開發
```

#### 3. 專門型工具
```
【數據分析特化】
- Jupyter AI：Notebook魔法命令
- DataCamp Workspace：引導式分析
- Notable：自然語言查詢

【選擇建議】
初學者：ChatGPT/Claude + Jupyter Notebook
進階者：Cursor/Copilot + 本地環境
團隊協作：Replit/DataCamp
```

### 工具選擇決策樹
```
你的需求是？
    ├─快速解答問題 → ChatGPT/Claude
    ├─邊寫邊提示 → GitHub Copilot
    ├─完整專案開發 → Cursor
    └─協作學習 → Replit

預算考量？
    ├─免費 → ChatGPT + Jupyter
    ├─個人付費 → Copilot ($10/月)
    └─團隊付費 → Cursor/Replit
```

---

## Part 2：Prompt 思維轉換（20分鐘）

### 從想法到 Prompt 的轉換

#### 思維層次模型
```
第4層：目標層
「我想要什麼結果？」
        ↓
第3層：數據層
「我有什麼數據？」
        ↓
第2層：方法層
「用什麼方法分析？」
        ↓
第1層：輸出層
「如何呈現結果？」
```

### Prompt 工程公式
```
完美Prompt = 背景 + 任務 + 數據 + 要求 + 輸出格式
```

#### 實例對比

❌ **差的 Prompt**
```
"分析數據"
```
問題：太籠統、沒有具體指示

✅ **好的 Prompt**
```
"我是一個電商分析師（背景），
想要了解客戶購買行為以優化行銷策略（任務），
我有一份online_retail.csv，包含54萬筆交易記錄，
欄位包括CustomerID、InvoiceDate、Quantity、UnitPrice等（數據），
請幫我執行RFM分析，將客戶分為不同價值群組（要求），
並產出：
1. 每個客群的統計描述
2. 視覺化圖表
3. 針對各群的行銷建議（輸出格式）"
```

### Prompt 優化技巧

#### 1. 角色設定法
```
"你是一位資深數據分析師，
擅長使用Python處理大數據..."
```

#### 2. 範例引導法
```
"像這樣的格式：
輸入：[範例輸入]
輸出：[範例輸出]
現在處理我的數據..."
```

#### 3. 步驟分解法
```
"請按以下步驟執行：
1. 首先...
2. 然後...
3. 最後..."
```

#### 4. 約束條件法
```
"要求：
- 使用pandas和matplotlib
- 程式碼要有註解
- 處理缺失值
- 考慮異常值"
```

### 迭代優化流程
```
初版Prompt
    ↓
執行結果
    ↓
發現問題 → 調整Prompt
    ↓
再次執行
    ↓
滿意結果

【常見調整】
- 太籠統 → 加入具體細節
- 錯誤多 → 分步驟執行
- 不符預期 → 提供範例
- 太複雜 → 簡化要求
```

---

## Part 3：實戰 Prompt 模板庫（20分鐘）

### 1. 數據載入與探索
```python
【基礎載入】
"請幫我載入 [檔案類型] 檔案 [檔案名稱]，
檔案位於 [路徑]，
編碼是 [utf-8/big5]，
分隔符是 [逗號/tab]，
並顯示：
1. 前5筆資料
2. 資料形狀
3. 欄位資訊
4. 基本統計"

【大檔案處理】
"檔案有54萬筆資料，
請使用適當的方法載入：
- 考慮記憶體優化
- 只載入需要的欄位
- 設定適當的資料類型"
```

### 2. 數據清理與轉換
```python
【品質檢查】
"請檢查數據品質：
1. 缺失值分析（數量、比例、模式）
2. 重複值檢測
3. 異常值識別（IQR方法）
4. 資料一致性檢查
產出品質報告表格"

【清理策略】
"這份數據有以下問題：
1. [欄位A] 有 X% 缺失值
2. [欄位B] 有異常值
3. [欄位C] 格式不一致
請依序處理這些問題，
每個步驟都要說明處理邏輯"
```

### 3. 分析執行
```python
【RFM分析完整版】
"請對 online_retail 數據執行RFM分析：
1. 計算Recency（最近購買）、Frequency（頻率）、Monetary（金額）
2. 使用分位數將每個指標分為5等級
3. 組合RFM分數進行客戶分群
4. 定義客戶標籤（如Champions、At Risk等）
5. 計算每群的人數、平均RFM值、收入貢獻
6. 產出分群結果的交叉分析表"

【時間序列分析】
"分析銷售的時間模式：
- 日期欄位：[欄位名]
- 分析維度：日/週/月
- 識別：趨勢、季節性、異常點
- 預測：未來30天
使用適當的視覺化展示"
```

### 4. 視覺化呈現
```python
【儀表板設計】
"創建6個子圖的分析儀表板：
1. 左上：月銷售趨勢（折線圖）
2. 右上：產品TOP10（橫條圖）
3. 左中：客戶分布（圓餅圖）
4. 右中：RFM分群（散點圖）
5. 左下：相關性熱力圖
6. 右下：關鍵指標卡片
整體配色使用 [seaborn/viridis]
加入標題和數值標籤"

【互動式圖表】
"使用plotly創建互動式圖表：
- 滑鼠懸停顯示詳細資訊
- 可以縮放和平移
- 包含選擇器和過濾器
- 支援匯出PNG"
```

### 5. 報告生成
```python
【洞察提煉】
"基於以上分析結果：
1. 總結3-5個關鍵發現
2. 每個發現要有數據支撐
3. 解釋業務含義（So What）
4. 提供可行動建議（Now What）
格式：
- 發現：[具體數據]
- 含義：[業務影響]
- 建議：[行動方案]"

【策略建議】
"為不同客戶群制定策略：
群組：[群組名稱]
特徵：[RFM特徵描述]
人數：[數量及佔比]
價值：[收入貢獻]
策略：[具體行銷策略]
預期效果：[量化目標]"
```

### 6. 程式碼優化
```python
【重構請求】
"請優化這段程式碼：
[貼上程式碼]
優化方向：
1. 提升執行效率
2. 增加錯誤處理
3. 改善可讀性
4. 加入進度提示
保持功能不變"

【文檔生成】
"為這個分析專案生成文檔：
1. 專案說明（目的、範圍）
2. 資料說明（來源、欄位）
3. 方法說明（分析流程）
4. 使用說明（如何執行）
5. 結果解讀（輸出說明）"
```

---

## 實戰演練：54萬筆數據 RFM 分析

### 完整 Prompt 範例
```
"我需要分析online_retail.csv的客戶價值：

背景：
- 這是一家英國線上零售商的交易數據
- 包含2010-2011年的交易記錄
- 目標是識別高價值客戶並制定保留策略

數據說明：
- 檔案：online_retail.csv
- 規模：約54萬筆
- 主要欄位：CustomerID, InvoiceDate, Quantity, UnitPrice

請執行完整的RFM分析流程：

1. 數據載入和清理
   - 處理缺失的CustomerID
   - 移除取消的訂單（Quantity<0）
   - 計算訂單總額

2. RFM計算
   - R: 最後購買距今天數
   - F: 購買次數
   - M: 總消費金額

3. 客戶分群
   - 使用5分位數
   - 定義8個關鍵群組
   - 計算群組統計

4. 視覺化
   - RFM分布圖
   - 客戶群組佔比
   - 價值貢獻分析

5. 策略建議
   - 每個群組的特徵
   - 針對性行銷策略
   - 預期ROI

請使用pandas、numpy、matplotlib、seaborn，
程式碼要有中文註解，
考慮大數據的處理效率"
```

---

## Prompt 工程最佳實踐

### DO's ✅
1. **明確具體**：說清楚要什麼
2. **提供背景**：讓AI理解情境
3. **給出範例**：展示期望格式
4. **分步執行**：複雜任務分解
5. **迭代改進**：根據結果優化

### DON'Ts ❌
1. **過於籠統**：「幫我分析」
2. **缺乏結構**：沒有條理的要求
3. **一次太多**：塞太多要求
4. **忽略錯誤**：不檢查結果
5. **不做驗證**：盲目相信輸出

---

## 課堂筆記區
（學員可在此記錄重點）

---

## 作業練習
1. 用ChatGPT完成一個數據清理任務
2. 設計5個不同場景的Prompt
3. 優化一個複雜分析的Prompt
4. 比較不同AI工具的輸出差異

## 延伸資源
- OpenAI Prompt Engineering Guide
- Anthropic Claude Prompting
- GitHub Copilot 文檔
- Cursor 使用教學