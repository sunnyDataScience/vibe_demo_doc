---
description: Specifies the Git branching model, commit message conventions, and the pull request process.
---

# ğŸŒŠ Git åˆ†æ”¯ç­–ç•¥

## ä¸»è¦åˆ†æ”¯
```
main (master)     â† ç”Ÿç”¢ç’°å¢ƒ (protected)
  â†‘
develop          â† é–‹ç™¼æ•´åˆ (protected)
  â†‘
feature/*        â† åŠŸèƒ½é–‹ç™¼
hotfix/*         â† ç·Šæ€¥ä¿®å¾©
release/*        â† ç‰ˆæœ¬ç™¼å¸ƒ
```

## åˆ†æ”¯å‘½åè¦ç¯„
```bash
feature/ticket-number-short-description
# feature/JIRA-123-user-authentication

hotfix/issue-description
# hotfix/critical-login-bug

release/version-number
# release/v1.2.0

bugfix/ticket-number-description
# bugfix/JIRA-456-fix-payment-error
```

# ğŸ“ Commit è¦ç¯„

## Conventional Commits æ ¼å¼
```
<type>(<scope>): <subject>

<body>

<footer>
```

## Type é¡åˆ¥
```bash
feat:     æ–°åŠŸèƒ½
fix:      ä¿®å¾© bug
docs:     æ–‡æª”æ›´æ–°
style:    ç¨‹å¼ç¢¼é¢¨æ ¼ï¼ˆä¸å½±éŸ¿åŠŸèƒ½ï¼‰
refactor: é‡æ§‹ï¼ˆä¸æ–°å¢åŠŸèƒ½æˆ–ä¿®å¾© bugï¼‰
perf:     æ•ˆèƒ½å„ªåŒ–
test:     æ¸¬è©¦ç›¸é—œ
build:    å»ºæ§‹ç³»çµ±æˆ–ä¾è³´è®Šæ›´
ci:       CI/CD ç›¸é—œ
chore:    å…¶ä»–é›œé …
revert:   é‚„åŸ commit
```

## Commit ç¯„ä¾‹
```bash
# âœ… Good commits
feat(auth): add OAuth2 login support

Implement Google and GitHub OAuth2 providers
- Add OAuth configuration
- Create callback handlers
- Update user model for social login

Closes #123

fix(api): prevent SQL injection in user search

Sanitize user input before database query
Security issue reported by pentesting team

# âŒ Bad commits
"fix bug"
"update"
"WIP"
"asdfasdf"
```

## Commit è¦å‰‡
- **åŸå­æ€§**: ä¸€å€‹ commit åªåšä¸€ä»¶äº‹
- **å®Œæ•´æ€§**: æ¯å€‹ commit éƒ½è¦èƒ½å»ºæ§‹
- **æè¿°æ€§**: èªªæ˜ what å’Œ whyï¼Œä¸åªæ˜¯ how
- **å¯è¿½æº¯**: é€£çµç›¸é—œ issue/ticket

# ğŸ”„ Pull Request æµç¨‹

## PR æ¨™é¡Œæ ¼å¼
```
[Type] Brief description (#ticket-number)

Examples:
[Feature] Add user authentication system (#123)
[Bugfix] Fix memory leak in data processing (#456)
[Hotfix] Resolve critical payment failure (#789)
```

## PR æè¿°æ¨¡æ¿
```markdown
## ğŸ“‹ Description
Brief description of changes

## ğŸ¯ Type of Change
- [ ] ğŸ› Bug fix (non-breaking change)
- [ ] âœ¨ New feature (non-breaking change)
- [ ] ğŸ’¥ Breaking change
- [ ] ğŸ“ Documentation update
- [ ] â™»ï¸ Refactoring
- [ ] âš¡ Performance improvement

## ğŸ§ª Testing
- [ ] Unit tests pass
- [ ] Integration tests pass
- [ ] Manual testing completed

## ğŸ“¸ Screenshots (if applicable)
Before | After
--- | ---
[image] | [image]

## âœ… Checklist
- [ ] Code follows style guidelines
- [ ] Self-review completed
- [ ] Comments added for complex code
- [ ] Documentation updated
- [ ] No new warnings
- [ ] Tests added/updated
- [ ] All tests passing

## ğŸ”— Related Issues
Closes #(issue)
```

## Code Review æª¢æŸ¥é …ç›®
```yaml
Functionality:
  - åŠŸèƒ½æ˜¯å¦æ­£ç¢ºå¯¦ä½œ
  - é‚Šç•Œæ¢ä»¶è™•ç†
  - éŒ¯èª¤è™•ç†å®Œæ•´æ€§

Code Quality:
  - ç¬¦åˆ SOLID åŸå‰‡
  - ç„¡é‡è¤‡ç¨‹å¼ç¢¼
  - å¯è®€æ€§è‰¯å¥½
  - é©ç•¶çš„è¨»è§£

Security:
  - ç„¡å®‰å…¨æ¼æ´
  - è¼¸å…¥é©—è­‰
  - æ•æ„Ÿè³‡è¨Šè™•ç†

Performance:
  - ç„¡æ˜é¡¯æ•ˆèƒ½å•é¡Œ
  - è³‡æºä½¿ç”¨åˆç†
  - æŸ¥è©¢å„ªåŒ–

Testing:
  - æ¸¬è©¦è¦†è“‹å……è¶³
  - æ¸¬è©¦æ¡ˆä¾‹åˆç†
  - Edge cases è¦†è“‹
```

# ğŸš€ Git å·¥ä½œæµç¨‹

## Feature é–‹ç™¼æµç¨‹
```bash
# 1. å¾ develop å‰µå»º feature åˆ†æ”¯
git checkout develop
git pull origin develop
git checkout -b feature/JIRA-123-new-feature

# 2. é–‹ç™¼ä¸¦æäº¤
git add .
git commit -m "feat: implement new feature"

# 3. æ¨é€ä¸¦å‰µå»º PR
git push -u origin feature/JIRA-123-new-feature
# Create PR: feature â†’ develop

# 4. Code review å¾Œåˆä½µ
# Squash and merge via GitHub/GitLab
```

## Hotfix æµç¨‹
```bash
# 1. å¾ main å‰µå»º hotfix åˆ†æ”¯
git checkout main
git pull origin main
git checkout -b hotfix/critical-bug

# 2. ä¿®å¾©ä¸¦æ¸¬è©¦
git add .
git commit -m "fix: resolve critical bug in production"

# 3. åˆä½µåˆ° main å’Œ develop
git checkout main
git merge --no-ff hotfix/critical-bug
git tag -a v1.2.1 -m "Hotfix version 1.2.1"

git checkout develop
git merge --no-ff hotfix/critical-bug

# 4. åˆªé™¤ hotfix åˆ†æ”¯
git branch -d hotfix/critical-bug
```

## Release æµç¨‹
```bash
# 1. å¾ develop å‰µå»º release åˆ†æ”¯
git checkout -b release/v1.2.0 develop

# 2. ç‰ˆæœ¬è™Ÿæ›´æ–°ã€æœ€çµ‚æ¸¬è©¦
npm version minor  # or major/patch
git commit -m "chore: bump version to 1.2.0"

# 3. åˆä½µåˆ° main
git checkout main
git merge --no-ff release/v1.2.0
git tag -a v1.2.0 -m "Release version 1.2.0"

# 4. åˆä½µå› develop
git checkout develop
git merge --no-ff release/v1.2.0

# 5. åˆªé™¤ release åˆ†æ”¯
git branch -d release/v1.2.0
```

# ğŸ·ï¸ Git Tags

## ç‰ˆæœ¬æ¨™è¨˜è¦ç¯„
```bash
# Semantic Versioning
v<major>.<minor>.<patch>[-<pre-release>][+<build>]

# Examples:
v1.0.0          # æ­£å¼ç‰ˆ
v1.0.0-alpha    # Alpha ç‰ˆ
v1.0.0-beta.1   # Beta ç‰ˆ
v1.0.0-rc.1     # Release Candidate

# å‰µå»ºæ¨™è¨˜
git tag -a v1.0.0 -m "Release version 1.0.0"
git push origin v1.0.0

# åˆ—å‡ºæ¨™è¨˜
git tag -l "v1.*"
```

# ğŸ”§ Git è¨­å®š

## å¿…è¦çš„ Git è¨­å®š
```bash
# ä½¿ç”¨è€…è³‡è¨Š
git config user.name "Your Name"
git config user.email "your.email@example.com"

# é è¨­ç·¨è¼¯å™¨
git config core.editor "code --wait"

# è‡ªå‹•ä¿®æ­£æ›è¡Œç¬¦è™Ÿ
git config core.autocrlf input  # Mac/Linux
git config core.autocrlf true   # Windows

# è¨­å®š pull ç­–ç•¥
git config pull.rebase true

# é¡¯ç¤ºä¸­æ–‡æª”å
git config core.quotepath false
```

## Git Aliases
```bash
# å¸¸ç”¨ aliases
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.st status
git config --global alias.unstage 'reset HEAD --'
git config --global alias.last 'log -1 HEAD'
git config --global alias.visual '!gitk'
git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
```

## Git Hooks
```bash
# .git/hooks/pre-commit
#!/bin/sh
# Run tests before commit
npm test
npm run lint

# .git/hooks/commit-msg
#!/bin/sh
# Validate commit message format
commit_regex='^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\(.+\))?: .{1,50}'
if ! grep -qE "$commit_regex" "$1"; then
    echo "Invalid commit message format!"
    exit 1
fi
```

# âš ï¸ Git æœ€ä½³å¯¦è¸

## DO's âœ…
- ç¶“å¸¸ commitï¼Œä¿æŒ commit å°è€Œå°ˆæ³¨
- åœ¨æ¨é€å‰å…ˆ pull å’Œ rebase
- ä½¿ç”¨ .gitignore æ’é™¤ä¸å¿…è¦æª”æ¡ˆ
- å®šæœŸæ¸…ç†æœ¬åœ°å’Œé ç«¯çš„å»¢æ£„åˆ†æ”¯
- ä½¿ç”¨ GPG ç°½ç½²é‡è¦ commits

## DON'Ts âŒ
- ä¸è¦ commit æ•æ„Ÿè³‡è¨Šï¼ˆå¯†é‘°ã€å¯†ç¢¼ï¼‰
- ä¸è¦ç›´æ¥åœ¨ main/develop åˆ†æ”¯ä¸Šé–‹ç™¼
- ä¸è¦ä½¿ç”¨ `git push --force` åœ¨å…¬å…±åˆ†æ”¯
- ä¸è¦ commit å¤§å‹äºŒé€²åˆ¶æª”æ¡ˆ
- ä¸è¦ä¿®æ”¹å·²æ¨é€çš„ commit æ­·å²

# ğŸ†˜ ç·Šæ€¥æƒ…æ³è™•ç†

## æ’¤éŠ·æ“ä½œ
```bash
# æ’¤éŠ·æœ€å¾Œä¸€æ¬¡ commitï¼ˆä¿ç•™æ›´æ”¹ï¼‰
git reset --soft HEAD~1

# æ’¤éŠ·æœ€å¾Œä¸€æ¬¡ commitï¼ˆåˆªé™¤æ›´æ”¹ï¼‰
git reset --hard HEAD~1

# æ’¤éŠ·å·²æ¨é€çš„ commit
git revert <commit-hash>

# å¾ staging ç§»é™¤æª”æ¡ˆ
git reset HEAD <file>

# ä¸Ÿæ£„å·¥ä½œå€æ›´æ”¹
git checkout -- <file>
```

## æ‰¾å›éºå¤±çš„ commit
```bash
# æŸ¥çœ‹ reflog
git reflog

# æ¢å¾©åˆ°ç‰¹å®šç‹€æ…‹
git reset --hard HEAD@{2}

# æ‰¾å›åˆªé™¤çš„åˆ†æ”¯
git checkout -b <branch-name> <commit-hash>
```

## è§£æ±ºè¡çª
```bash
# åˆä½µè¡çª
git merge <branch>
# æ‰‹å‹•è§£æ±ºè¡çª
git add <resolved-files>
git commit

# Rebase è¡çª
git rebase <branch>
# è§£æ±ºè¡çªå¾Œ
git add <resolved-files>
git rebase --continue
# æˆ–æ”¾æ£„ rebase
git rebase --abort
```