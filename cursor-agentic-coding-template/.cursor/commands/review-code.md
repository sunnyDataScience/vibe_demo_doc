---
description: CODE REVIEW - Context-aware, heuristic-based code review with explicit memory interaction.
---

# ğŸ§ CODE REVIEW MODE (v3)

> åƒé·¹çœ¼ä¸€æ¨£ï¼Œæ ¹æ“šç•¶å‰æˆ°æ³å’Œè¨˜æ†¶é«”åº«ä¸­çš„æƒ…å ±ï¼Œé¸æ“‡æœ€é©åˆçš„ç®­çŸ¢ï¼Œç²¾æº–æ‰“æ“Šç¨‹å¼ç¢¼ä¸­çš„æ½›åœ¨å•é¡Œã€‚

## 1. PLAN ğŸ¯ (è¦åŠƒ)

### Objective
> å°æŒ‡å®šçš„ç¨‹å¼ç¢¼è®Šæ›´ï¼Œé€²è¡Œä¸€æ¬¡**æœ‰é‡é»ã€æœ‰ä¸Šä¸‹æ–‡ã€åŸºæ–¼å•Ÿç™¼å¼è¦å‰‡**çš„å…¨é¢å¯©æŸ¥ï¼Œä¸¦ç”¢å‡ºä¸€ä»½å¯ç›´æ¥ä½¿ç”¨çš„ã€çµæ§‹åŒ–çš„å¯©æŸ¥å ±å‘Šã€‚æ­¤æŒ‡ä»¤**ä¸ç›´æ¥å¯«å…¥** `memory-bank`ï¼Œä½†æœƒ**å¤§é‡è®€å–**å…¶ä¸­çš„ä¸Šä¸‹æ–‡ä¾†æä¾›é«˜è³ªé‡çš„åé¥‹ã€‚

### Guiding Rules
> åœ¨åŸ·è¡Œæ­¤æŒ‡ä»¤æ™‚ï¼ŒAI Agent å¿…é ˆéµå¾ªä»¥ä¸‹è¦å‰‡ï¼š
- **ä¸»è¦è¦å‰‡:** `.cursor/rules/principles/global.mdc`
- **ç¨‹å¼ç¢¼å“è³ª:** ç›¸é—œçš„ `.cursor/rules/backend/overview.mdc` æˆ– `.cursor/rules/frontend/overview.mdc`
- **æ¸¬è©¦æ¨™æº–:** `.cursor/rules/testing/overview.mdc`
- **æ ¸å¿ƒéš”é›¢:** `.cursor/rules/isolation_rules/main.mdc`

### Prerequisites Check
> åœ¨é–‹å§‹å¯©æŸ¥ä¹‹å‰ï¼Œè«‹ç¢ºä¿ï¼š
- âœ… **ç¨‹å¼ç¢¼å·²å°±ç·’:** æœ‰ä¸€å€‹æ¸…æ™°çš„ã€å¾…å¯©æŸ¥çš„ç¨‹å¼ç¢¼è®Šæ›´é›† (PR, diff)ã€‚
- âœ… **CI/CD é€šé:** Linterã€å–®å…ƒæ¸¬è©¦ç­‰è‡ªå‹•åŒ–æª¢æŸ¥å·²é€šéã€‚
- âŒ **Failure Action:** å¦‚æœ CI/CD å¤±æ•—ï¼ŒAI **å¿…é ˆæ‹’çµ•å¯©æŸ¥**ï¼Œä¸¦æŒ‡å‡ºï¼šã€Œè‡ªå‹•åŒ–æª¢æŸ¥å¤±æ•—ã€‚è«‹ä½œè€…å…ˆä¿®å¾© CI å•é¡Œï¼Œæˆ‘æ‰èƒ½é€²è¡Œæœ‰æ„ç¾©çš„å¯©æŸ¥ã€‚ã€

## 2. DO å®Ÿè¡Œ (åŸ·è¡Œ)

### Core Process
> éµå¾ªä¸€å€‹åŒ…å«æ‰¹åˆ¤æ€§æ€ç¶­çš„ã€ä¸Šä¸‹æ–‡é©…å‹•çš„å¯©æŸ¥æµç¨‹ï¼š

**Step 0: å¥åº·æª¢æŸ¥ (Health Check)**
- **æª¢æŸ¥ä¸Šä¸‹æ–‡:** å¯©æŸ¥çš„ç¨‹å¼ç¢¼æ˜¯å¦é™„å¸¶äº†è¶³å¤ çš„èªªæ˜ï¼Ÿï¼ˆå¦‚ PR æè¿°ã€é—œè¯çš„ `tasks.md` IDï¼‰ã€‚
- **æ‰¹åˆ¤æ€§æ€è€ƒ:** å¦‚æœç¨‹å¼ç¢¼çš„æ„åœ–ä¸æ˜ï¼ŒAI **å¿…é ˆå…ˆæå•**ã€‚ä¾‹å¦‚ï¼šã€Œé€™å€‹è®Šæ›´çš„ PR æè¿°æ˜¯ç©ºçš„ï¼Œä¹Ÿæ²’é—œè¯ä»»ä½•ä»»å‹™ IDã€‚ç‚ºäº†é¿å…èª¤è§£ï¼Œæ‚¨èƒ½ç°¡è¦èªªæ˜ä¸€ä¸‹é€™å€‹è®Šæ›´çš„ç›®æ¨™æ˜¯ä»€éº¼å—ï¼Ÿã€

**Step 1: è¨˜æ†¶é«”äº’å‹• - è®€å– (Memory Interaction - Read)**
- **è®€å–ç¨‹å¼ç¢¼è®Šæ›´ (Diff):** é€™æ˜¯å¯©æŸ¥çš„ä¸»è¦å°è±¡ã€‚
- **è®€å–ç›¸é—œè¨˜æ†¶:**
    - `memory-bank/current/tasks.md`: äº†è§£æ­¤è®Šæ›´å°æ‡‰çš„ä»»å‹™è¦æ±‚ã€‚
    - `memory-bank/current/creative-*.md`: äº†è§£èƒŒå¾Œçš„è¨­è¨ˆæ±ºç­–ã€‚
    - `memory-bank/current/projectbrief.md`: ç†è§£æ­¤è®Šæ›´å¦‚ä½•æœå‹™æ–¼æ•´å€‹å°ˆæ¡ˆçš„ç›®æ¨™ã€‚
- é€™ä¸€**è®€å–**æ­¥é©Ÿè‡³é—œé‡è¦ï¼Œå®ƒèƒ½è®“ AI çš„å¯©æŸ¥**è¶…è¶Šèªæ³•å±¤é¢ï¼Œé€²å…¥è¨­è¨ˆå’Œæ¶æ§‹å±¤é¢**ã€‚

**Step 2: ç¢ºå®šå¯©æŸ¥é‡é» (Determine Review Focus)**
- æ ¹æ“šç¨‹å¼ç¢¼è®Šæ›´çš„ç›®çš„ï¼ˆè®€å–è‡ª `tasks.md` æˆ–ç”¨æˆ¶èªªæ˜ï¼‰ï¼Œå¾ `Appendix A` ä¸­é¸æ“‡ 1-3 å€‹æœ€ç›¸é—œçš„ã€Œå£å‘³é“ã€åˆ†é¡ä½œç‚ºæœ¬æ¬¡å¯©æŸ¥çš„é‡é»ã€‚

**Step 3: æ‡‰ç”¨å•Ÿç™¼å¼è¦å‰‡ (Apply Heuristics)**
- **é‡é»å¯©æŸ¥:** æ ¹æ“šé¸æ“‡çš„é‡é»åˆ†é¡ï¼Œä½¿ç”¨ `Appendix A` ä¸­çš„è¡“èªï¼Œé€ä¸€æª¢æŸ¥ç¨‹å¼ç¢¼ã€‚
- **å…¨é¢åŸºç¤å¯©æŸ¥:** å¿«é€Ÿéä¸€éåŠŸèƒ½æ­£ç¢ºæ€§ã€å®‰å…¨æ€§å’Œæ¸¬è©¦è¦†è“‹ç­‰åŸºæœ¬ç›¤ã€‚

**Step 4: ç”¢å‡ºå¯©æŸ¥å ±å‘Š (Generate Review Report)**
- **ä¸å¯«å…¥è¨˜æ†¶é«”:** å°‡å¯©æŸ¥å ±å‘Šæ ¼å¼åŒ–ç‚ºä¸€ä»½ç¨ç«‹çš„ Markdown æ–‡ä»¶ã€‚é€™ä»½å ±å‘Šæ˜¯**è¼¸å‡º**ï¼Œè€Œä¸æ˜¯è¦å¯«å…¥ `memory-bank` çš„ç‹€æ…‹ã€‚ç”¨æˆ¶å¯ä»¥æ–¹ä¾¿åœ°å°‡å…¶è¤‡è£½åˆ° GitHub/GitLabã€‚
- å ±å‘Šæ‡‰åŒ…å«ï¼šå¯©æŸ¥é‡é»ã€å„ªé»ã€å¿…é ˆä¿®æ”¹é» (`ğŸ”´`)ã€å»ºè­°æ”¹é€²é» (`ğŸŸ¡`) å’Œå…·é«”ç¯„ä¾‹ã€‚

## 3. CHECK âœ“ (æª¢æŸ¥)

### Verification Checklist
- [ ] **åé¥‹æ˜¯å¦èšç„¦:** å ±å‘Šæ˜¯å¦æ¸…æ™°åœ°åœç¹è‘—é¸å®šçš„é‡é»ï¼Ÿ
- [ ] **æ˜¯å¦å¼•ç”¨è¨˜æ†¶:** å¯©æŸ¥æ„è¦‹æ˜¯å¦é«”ç¾äº† AI å·²ç†è§£ `tasks.md` å’Œ `creative-*.md` ä¸­çš„ä¸Šä¸‹æ–‡ï¼Ÿ
- [ ] **å»ºè­°æ˜¯å¦å…·é«”:** æ˜¯å¦ç‚ºé—œéµå•é¡Œæä¾›äº†ä¾†è‡ª `Appendix A` çš„è¡“èªå’Œå…·é«”ä¿®æ”¹å»ºè­°ï¼Ÿ
- [ ] **è¼¸å‡ºæ ¼å¼æ˜¯å¦æ­£ç¢º:** å¯©æŸ¥å ±å‘Šæ˜¯å¦æ˜¯ä¸€å€‹æ ¼å¼è‰¯å¥½ã€å¯ç›´æ¥è¤‡è£½çš„ Markdown å¡Šï¼Ÿ

## 4. ACT æ”¹å–„ (è¡Œå‹•)

### Finalization
- **å‘ç”¨æˆ¶äº¤ä»˜å ±å‘Š:** AI åœ¨å®Œæˆå¾Œï¼Œæ‡‰å‘ŠçŸ¥ç”¨æˆ¶ï¼šã€Œç¨‹å¼ç¢¼å¯©æŸ¥å·²å®Œæˆã€‚ä»¥ä¸‹æ˜¯å¯©æŸ¥å ±å‘Šï¼Œæ‚¨å¯ä»¥å°‡å…¶è¤‡è£½åˆ°æ‚¨çš„ Pull Request ä¸­ã€‚ã€

### Next Steps
> ç¨‹å¼ç¢¼å¯©æŸ¥æ˜¯æ¨å‹•å“è³ªå…§å»ºçš„é—œéµæ´»å‹•ã€‚
- ğŸ‘‰ **Primary Next Step:** ç­‰å¾…ä½œè€…æ ¹æ“šåé¥‹ä¿®æ”¹ç¨‹å¼ç¢¼ï¼Œç„¶å¾Œå†æ¬¡åŸ·è¡Œ `/review-code` é€²è¡Œç¬¬äºŒè¼ªå¯©æŸ¥ã€‚
- ğŸ’¡ **Alternative:** å¦‚æœå¯©æŸ¥ä¸­ç™¼ç¾äº†åš´é‡çš„è¨­è¨ˆå•é¡Œï¼Œæ‡‰å»ºè­°åŸ·è¡Œ `/creative` æ¨¡å¼ï¼Œå°è©²éƒ¨åˆ†é€²è¡Œé‡æ–°è¨­è¨ˆã€‚

---

## Appendix A: Code Smell & Engineering Heuristics
(The appendix from v2 remains here, unchanged)
... (ç•¥)